{"version":3,"file":"static/js/530.2a0db35c.chunk.js","mappings":"+SAAaA,EAAW,+BACXC,EAAU,mCCiBhB,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACaC,EAAAA,EAAAA,IAAA,UACbH,EADa,uCAC0BC,IAFvC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kEAMA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,uFACaJ,EAAAA,EAAAA,IAAA,UAAaH,EAAb,kBAA+BO,EAA/B,oBAA6CN,IAD1D,cACCG,EADD,yBAEEA,EAAIC,MAFN,kEAKA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,uFACaN,EAAAA,EAAAA,IAAA,UACbH,EADa,iCACoBC,EADpB,kBACqCQ,IAFlD,cACCL,EADD,yBAIEA,EAAIC,MAJN,kEAOA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA8BH,GAA9B,uFACaJ,EAAAA,EAAAA,IAAA,UACbH,EADa,kBACKO,EADL,4BAC2BN,IAFxC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kEAOA,SAAeM,EAAtB,kC,aAAO,O,oBAAA,WAA8BJ,GAA9B,uFACaJ,EAAAA,EAAAA,IAAA,UACbH,EADa,kBACKO,EADL,4BAC2BN,IAFxC,cACCG,EADD,yBAIEA,EAAIC,MAJN,kE,4HC1CP,EAAuB,qBAAvB,EAAqD,uBAArD,EAAmF,qB,SCuDnF,EAnDe,WAAO,IAAD,EACnB,GAA4BO,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMR,EAAK,UAAGO,EAAaE,IAAI,gBAApB,QAAgC,GACrCC,GAAWC,EAAAA,EAAAA,OAUjBC,EAAAA,EAAAA,YAAU,YACRb,EAAAA,EAAAA,IAAgBC,GACba,MAAK,SAAAC,GACJT,EAAU,IACVA,GAAU,SAAAU,GAAI,wBAAQA,IAAR,OAAiBD,EAASE,SAA1B,GACf,IACAC,QACAC,SACJ,GAAE,CAAClB,IAiBJ,OACE,iCACE,kBAAMmB,UAAWC,EAAQC,SApCR,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAcF,EAAEG,cAAcC,SAAS1B,MAAM2B,MACnD,GAAoB,KAAhBH,EACF,OAAOhB,EAAgB,CAAC,GAE1BA,EAAgB,CAAER,MAAOwB,IACzBF,EAAEG,cAAcC,SAAS1B,MAAM2B,MAAQ,EACxC,EA4BG,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQC,UAAQ,KACxC,mBAAQX,UAAWC,EAAUQ,KAAK,SAAlC,uBAIDxB,GAA4B,IAAlBA,EAAO2B,QAtBlB,wBACG3B,EAAO4B,KAAI,gBAAGC,EAAH,EAAGA,MAAOnC,EAAV,EAAUA,GAAV,OACV,SAAC,KAAD,CACEqB,UAAWC,EAEXc,MAAO,CAAEC,KAAMzB,GACf0B,GAAE,UAAKtC,GAJT,UAME,wBAAKmC,KAJAnC,EAHG,OAqBoC,8CAGvD,C","sources":["helpers/const.jsx","helpers/movieApi.js","webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["export const BASE_URL = 'https://api.themoviedb.org/3';\nexport const API_KEY = 'a28892c9adcb905c064a29bd23dc557e';\n// https://api.themoviedb.org/3/movie/550?api_key=a28892c9adcb905c064a29bd23dc557e\n// token: eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMjg4OTJjOWFkY2I5MDVjMDY0YTI5YmQyM2RjNTU3ZSIsInN1YiI6IjY0NTRkZWM5ZDQ4Y2VlMDEzNmRhMTY3OSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.GgD3kxMIuPq4B2WK4Gfb-zNM4K_E3DnnNvhA3uinp3s\n// axios.defaults.baseURL = 'https://api.themoviedb.org/3/movie';\n","import axios from 'axios';\nimport { BASE_URL, API_KEY } from './const';\n\n// function settingUrl(query, page) {\n//   return {\n//     key: API_KEY,\n//     q: query,\n//     page: page,\n//     per_page: 12,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: true,\n//   };\n// }\n// const trendingParams = {\n//   api_key: API_KEY,\n// };\n\nexport async function getTrandingMovie() {\n  const res = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  return res.data;\n}\nexport async function getMovieById(id) {\n  const res = await axios.get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n  return res.data;\n}\n\nexport async function getMovieByQuery(query) {\n  const res = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return res.data;\n}\n\nexport async function getCreditsById(id) {\n  const res = await axios.get(\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`\n  );\n  return res.data;\n}\n\nexport async function getReviewsById(id) {\n  const res = await axios.get(\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`\n  );\n  return res.data;\n}\n// export default async function getImages(query, page) {\n//   const params = new URLSearchParams(settingUrl(query, page));\n//   const res = await axios.get(`${BASE_URL}?${params}`);\n//   return res.data;\n// }\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__5L7s0\",\"submit\":\"Movies_submit__8tn9n\",\"link\":\"Movies_link__koirl\"};","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { getMovieByQuery } from 'helpers/movieApi';\nimport s from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n  const handleSubmit = e => {\n    e.preventDefault();\n    const searchQuery = e.currentTarget.elements.query.value;\n    if (searchQuery === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ query: searchQuery });\n    e.currentTarget.elements.query.value = '';\n  };\n  useEffect(() => {\n    getMovieByQuery(query)\n      .then(response => {\n        setMovies([]);\n        setMovies(prev => [...prev, ...response.results]);\n      })\n      .catch()\n      .finally();\n  }, [query]);\n  const moviesMarkup = () => {\n    return (\n      <ul>\n        {movies.map(({ title, id }) => (\n          <Link\n            className={s.link}\n            key={id}\n            state={{ from: location }}\n            to={`${id}`}\n          >\n            <li>{title}</li>\n          </Link>\n        ))}\n      </ul>\n    );\n  };\n  return (\n    <>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" required></input>\n        <button className={s.submit} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {movies || movies.length !== 0 ? moviesMarkup() : <p>Movies not found</p>}\n    </>\n  );\n};\nexport default Movies;\n"],"names":["BASE_URL","API_KEY","getTrandingMovie","axios","res","data","getMovieById","id","getMovieByQuery","query","getCreditsById","getReviewsById","useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","then","response","prev","results","catch","finally","className","s","onSubmit","e","preventDefault","searchQuery","currentTarget","elements","value","type","name","required","length","map","title","state","from","to"],"sourceRoot":""}